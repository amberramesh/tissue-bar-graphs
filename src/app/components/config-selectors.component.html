<div>
  <label for="source">Source: </label>
  <select id="source" [(ngModel)]="selectedConfig" (change)="loadDataset()">
    <option *ngFor="let config of configOptions; let i = index" [value]="i">{{ config.label }}</option>
  </select>
</div>
<br />
<div *ngIf="!loading; else elseBlock">
  <label for="selected_cell_type">Sort By: </label>
  <select id="selected_cell_type" [(ngModel)]="sortBy" (change)="emitSpec()">
    <optgroup label="Tissue Block Attribute">
      <option *ngFor="let label of generalSortLabels" [value]="label">{{ label }}</option>
    </optgroup>
    <optgroup label="Cell Type Count">
      <option  *ngFor="let name of cellTypes" [value]="name">{{ name }}</option>
    </optgroup>
  </select>
  &nbsp;
  <select id="order_type" [(ngModel)]="orderType" (change)="emitSpec()">
    <option selected [value]="OrderType.Ascending">Ascending</option>
    <option [value]="OrderType.Descending">Descending</option>
  </select>
  <br /><br />
  <label for="group_by">Group By: </label>
  <select id="group_by" [(ngModel)]="groupBy" (change)="emitSpec()">
    <option  *ngFor="let group of groupOptions" [value]="group.value">{{ group.name }}</option>
  </select>
  <br /><br />
  <div>
    <label>Y-Axis: </label>
    <input type="radio" name="yAxisAtrr" id="raw_count" name="yAxisField" value="count" [(ngModel)]="yAxisField" (change)="emitSpec()">
    <label for="raw_count">Raw Count</label>
    <input type="radio" name="yAxisAtrr" id="percentage" name="yAxisField" value="percentage" [(ngModel)]="yAxisField" (change)="emitSpec()">
    <label for="percentage">Percentage</label>
  </div>
</div>
<ng-template #elseBlock>
  <div><small style="color: gray">Working...</small></div>
</ng-template>
